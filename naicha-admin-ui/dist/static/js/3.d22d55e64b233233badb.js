webpackJsonp([3],{"/Xty":function(e,o){},NIJD:function(e,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=i("PvMi"),r=i("zL8q"),l={data:function(){return{loading:!1,registerDialogVisible:!1,codeUrl:"",loginForm:{username:"",password:"",uuid:"",verifyCode:""},rules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},registerUserForm:{username:"",password:""},registerRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"},{max:18}],password:[{required:!0,trigger:"blur",message:"密码不能为空"},{max:18}]}}},created:function(){var e=r.Loading.service({lock:!0,text:"加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 1)"});setTimeout(function(){e.close()},500),this.getValidCode(),this.handleCookie()},methods:{getValidCode:function(){var e=this;Object(t.a)().then(function(o){e.loginForm.uuid=o.data.uuid,e.codeUrl=o.data.image})},handleCookie:function(){this.loading=!0;var e=window.localStorage.getItem("token");if(null!=e)this.$store.dispatch("loginByToken",e);else{var o=window.localStorage.getItem("loginUser");o&&(this.loginForm=JSON.parse(o)),this.loading=!1}},handleLogin:function(){var e=this,o=this;this.$refs.form.validate(function(i){i&&(e.loading=!0,setTimeout(function(){o.loading=!1},2e3),e.$store.dispatch("login",e.loginForm))})}}},a={render:function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"container1"},[e.loading?e._e():i("div",{staticClass:"login"},[i("h2",[e._v("用户登录")]),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.loginForm,rules:e.rules,size:"mini","label-width":"70px"}},[i("el-form-item",{staticClass:"login_box",attrs:{label:"用户名",prop:"username"}},[i("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}})],1),e._v(" "),i("el-form-item",{staticClass:"login_box",attrs:{label:"密码",prop:"password"}},[i("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}})],1),e._v(" "),i("el-form-item",{staticClass:"login_box",attrs:{prop:"verifyCode"}},[i("el-input",{staticStyle:{"margin-left":"10px",width:"40%",float:"left"},attrs:{placeholder:"验证码"},model:{value:e.loginForm.verifyCode,callback:function(o){e.$set(e.loginForm,"verifyCode",o)},expression:"loginForm.verifyCode"}}),e._v(" "),i("div",[i("img",{attrs:{src:e.codeUrl,alt:" "},on:{click:e.getValidCode}})])],1),e._v(" "),i("el-button",{attrs:{id:"loginButton",type:"primary",loading:e.loading},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)])},staticRenderFns:[]};var n=i("VU/8")(l,a,!1,function(e){i("/Xty")},null,null);o.default=n.exports}});
//# sourceMappingURL=3.d22d55e64b233233badb.js.map