{"version":3,"sources":["webpack:///./src/router/systemRouters.js","webpack:///./src/store/modules/systemMenu.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/modules/menuTag.js","webpack:///./src/store/index.js","webpack:///src/components/app/OrderMessage.vue","webpack:///./src/api/modules/app/messageApi.js","webpack:///./src/components/app/OrderMessage.vue?e4a5","webpack:///./src/components/app/OrderMessage.vue","webpack:///src/App.vue","webpack:///./src/App.vue?484a","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/api/AuthController.js","webpack:///./src/router/index.js","webpack:///./src/utils/axiosRequest.js"],"names":["systemRouters","path","component","__webpack_require__","e","then","bind","icon","title","name","children","permission","systemMenu","state","systemMenus","getters","mutations","setSystemMenus","actions","generateSystemMenus","_ref","permissions","commit","includes","router","addRoutes","routers","filterRouter","routes","perms","res","forEach","route","length","push","needPermission","i","startsWith","hasPermission","user","userInfo","token","setToken","loginByToken","dispatch","console","log","result","data","window","localStorage","setItem","redirect","catch","removeItem","login","_ref2","requestUser","stringify_default","logout","_ref3","location","reload","menuTag","routeTags","currentTag","tag","updateRouteTags","flag","item","splice","deleteTag","index","Vue","use","Vuex","__webpack_exports__","Store","modules","OrderMessage","messageList","mounted","this","getMessage","methods","voiceTips","address","Audio","play","that","setInterval","getRecentMessage","_this","request","url","method","confirmReceiveMessage","orderNo","confirmReceiveOrderMessage","$notify","success","app_OrderMessage","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","font-size","_v","_l","message","key","_s","attrs","size","type","on","click","$event","_e","staticRenderFns","App","components","normalizeComponent","ssrContext","background","created","getItem","selectortype_template_index_0_src_App","class","id","position","z-index","src_App","App_normalizeComponent","ElementUI","prototype","$loading","Loading","service","$msgbox","MessageBox","$alert","alert","$confirm","confirm","Notification","$message","Message","config","debug","process","store","h","$mount","oldPassword","newPassword","__WEBPACK_IMPORTED_MODULE_0__utils_axiosRequest_js__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__store_index__","__WEBPACK_IMPORTED_MODULE_2_vue_router__","VueRouter","constantRouterMap","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","oe","hidden","beforeEach","to","from","next","axiosInstance","axios","create","baseURL","interceptors","requestInfo","loading","lock","text","spinner","setTimeout","close","headers","error","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","reject","response","status","code","confirmButtonText"],"mappings":"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","file":"static/js/app.b6dd664139776e55eae1.js","sourcesContent":["/**\r\n * 路由格式\r\n   path: '/system/setting',\r\n   // component: (resolve) => require(['../components/app/taskLog/TaskLogIndex.vue'], resolve), 组件\r\n   component: () => import('../components/system/SystemIndex.vue'), 组件\r\n   icon: 'el-icon-menu',\r\n   title: '系统设置',\r\n   name: \"systemSetting\",                     路由的唯一标识\r\n   hidden: true                               不显示到菜单栏里\r\n   permission: \"system:app:user\"              需要的权限  粗粒度\r\n **/\r\nconst systemRouters = [\r\n\r\n  {\r\n    path: '/appAdmin',\r\n    component: () => import('../components/Layout.vue'),\r\n    icon: 'el-icon-s-management',\r\n    title: '应用管理',\r\n    name: \"appAdmin\",\r\n    children: [\r\n      {\r\n        path: '/app/userAdmin',\r\n        component: () => import('../components/app/user/UserAdminIndex.vue'),\r\n        icon: 'el-icon-user-solid',\r\n        title: '用户管理',\r\n        name: \"userAdmin\",\r\n        permission: \"system:app:user\"\r\n      },\r\n      {\r\n        path: '/app/goodsAdmin',\r\n        component: () => import('../components/app/goods/GoodsIndex.vue'),\r\n        icon: 'el-icon-s-operation',\r\n        title: '商品管理',\r\n        name: \"goodsAdmin\",\r\n        permission: \"system:app:goods\"\r\n      },\r\n      {\r\n        path: '/app/goodsCategoryAdmin',\r\n        component: () => import('../components/app/goodsCategory/index.vue'),\r\n        icon: 'el-icon-s-operation',\r\n        title: '商品种类',\r\n        name: \"goodsCategoryAdmin\",\r\n        permission: \"system:app:goodsCategory\"\r\n      },\r\n      {\r\n        path: '/app/orderAdmin',\r\n        component: () => import('../components/app/order/index.vue'),\r\n        icon: 'el-icon-s-operation',\r\n        title: '订单管理',\r\n        name: \"orderAdmin\",\r\n        permission: \"system:app:orderInfo\"\r\n      },\r\n      {\r\n        path: '/app/orderHandler',\r\n        component: () => import('../components/app/orderHandler/index.vue'),\r\n        icon: 'el-icon-s-operation',\r\n        title: '订单处理',\r\n        name: \"orderHandler\",\r\n        permission: \"system:app:orderInfo\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/systemManage',\r\n    component: () => import('../components/Layout.vue'),\r\n    icon: 'el-icon-s-grid',\r\n    title: '系统管理',\r\n    name: \"systemManage\",\r\n    children: [\r\n      {\r\n        path: '/system/monitor/appConfig',\r\n        component: () => import('../components/system/monitor/AppConfigIndex.vue'),\r\n        icon: 'el-icon-setting',\r\n        title: '系统配置',\r\n        name: \"appConfigSetting\",\r\n        permission: \"system:admin:config\"\r\n      },\r\n      {\r\n        path: '/system/monitor/timedTask',\r\n        component: () => import('../components/system/monitor/TimingTaskIndex.vue'),\r\n        icon: 'el-icon-video-camera-solid',\r\n        title: '定时任务',\r\n        name: \"timingTaskAdmin\",\r\n        permission: \"system:admin:timingTask\"\r\n      },\r\n      {\r\n        path: '/system/manage/user',\r\n        component: () => import('../components/system/manage/UserIndex.vue'),\r\n        icon: 'el-icon-s-custom',\r\n        title: '系统用户',\r\n        name: \"sysUser\",\r\n        permission: \"system:admin:sysUser\"\r\n      },\r\n      {\r\n        path: '/system/manage/role',\r\n        component: () => import('../components/system/manage/RoleIndex.vue'),\r\n        icon: 'el-icon-s-check',\r\n        title: '角色管理',\r\n        name: \"roleAdmin\",\r\n        permission: \"system:admin:role\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport default systemRouters\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/systemRouters.js","import systemRouters from \"../../router/systemRouters.js\";\r\nimport router from \"../../router/index\";\r\n\r\nfunction hasPermission(permissions, needPermission) {\r\n    for (let i = 0; i < permissions.length; i++)\r\n        if (permissions[i].startsWith(needPermission))\r\n            return true;\r\n    return false;\r\n}\r\n\r\n/**\r\n * 递归过滤系统路由表，返回符合用户角色权限的路由表\r\n * @param routes 所有路由表\r\n * @param perms\r\n */\r\nfunction filterRouter(routes, perms) {\r\n    const res = []\r\n    routes.forEach(route => {\r\n        if (route.children) {\r\n            route.children = filterRouter(route.children, perms) // 递归处理孩子节点\r\n            if (route.children && route.children.length > 0)\r\n                res.push(route)\r\n        } else {\r\n            if (route.permission) { // 需要权限\r\n                if (hasPermission(perms, route.permission))\r\n                    res.push(route);\r\n            } else {\r\n                res.push(route)\r\n            }\r\n        }\r\n    })\r\n    return res\r\n}\r\n\r\nconst systemMenu = {\r\n    state: {\r\n        systemMenus: [], // 后台菜单\r\n    },\r\n    getters: {\r\n        systemMenus: state => state.systemMenus\r\n    },\r\n    mutations: {\r\n        setSystemMenus(state, systemMenu) {\r\n            state.systemMenus = systemMenu;\r\n        }\r\n    },\r\n    actions: {\r\n        generateSystemMenus({commit}, permissions) { // 生成菜单栏(路由表)  eg:permissions=[\"system:sysUser:list]\r\n            if (permissions.includes('*')) {\r\n                commit(\"setSystemMenus\", systemRouters)\r\n                router.addRoutes(systemRouters)\r\n            } else {\r\n                let routers = filterRouter(systemRouters, permissions);\r\n                commit(\"setSystemMenus\", routers)\r\n                router.addRoutes(routers) // 动态添加可访问路由表\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default systemMenu\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/systemMenu.js","import router from '../../router/index'\r\nimport {getUserInfo, login, loginByToken} from \"../../api/AuthController\";\r\nimport {Loading} from \"element-ui\";\r\n\r\nconst user = {\r\n  state: {\r\n    userInfo: null,\r\n    permissions: [],\r\n    token: null\r\n  },\r\n  // 能保证获取到最新的值 eg: ...mapGetters(['userInfo']) this.$store.getters.userInfo\r\n  getters: {\r\n    userInfo: state => state.userInfo,\r\n    token: state => state.token,\r\n    permissions: state => state.permissions\r\n  },\r\n  // 调用方法 this.$store.commit(\"mutationName\", data);\r\n  mutations: {\r\n    setToken(state, token){\r\n      state.token = token;\r\n    },\r\n  },\r\n  // 调用方法 this.$store.dispatch(\"actionName\", data);\r\n  actions: {\r\n    loginByToken({commit, state, dispatch}, token) {\r\n      console.log(\"[通过本地缓存的令牌登录]\", token);\r\n      commit(\"setToken\", token);\r\n      loginByToken(token).then(result => {\r\n        state.userInfo = result.data;\r\n        commit(\"setToken\", result.data.token);\r\n        window.localStorage.setItem('token', result.data.token);\r\n\r\n        dispatch(\"generateSystemMenus\", result.data.permissions); // 生成菜单路由表\r\n        router.push({redirect: true, path: '/index'});\r\n      }).catch(() => {\r\n        window.localStorage.removeItem(\"token\");\r\n      })\r\n    },\r\n    // 用户登录\r\n    login({commit, state, dispatch}, requestUser) {\r\n      login(requestUser).then(result => {\r\n        state.userInfo = result.data;\r\n        commit(\"setToken\", result.data.token);\r\n        window.localStorage.setItem('token', result.data.token);\r\n        window.localStorage.setItem(\"loginUser\", JSON.stringify(requestUser));\r\n\r\n        dispatch(\"generateSystemMenus\", result.data.permissions); // 生成菜单路由表\r\n        router.push({redirect: true, path: '/index'});\r\n      })\r\n    },\r\n    // 退出登录\r\n    logout: ({commit, state}) => {\r\n      commit(\"setToken\", null);\r\n      state.userInfo = null;\r\n      window.localStorage.removeItem('token')\r\n      location.reload();\r\n    }\r\n  }\r\n}\r\n\r\nexport default user\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","const menuTag = {\r\n  state: {\r\n    // 顶部的路由标签条\r\n    routeTags: [],\r\n    currentTag: [] // 单数组\r\n  },\r\n  getters: {\r\n    routeTags: state => state.routeTags,\r\n    currentTag: state => state.tag\r\n  },\r\n  /**\r\n   * 组件内存值 this.$store.commit('mutations里的方法名', 要存的数据)\r\n   * 组件内取值 this.$store.getters.getterMethod;\r\n   */\r\n  mutations: {\r\n    // 更新标签条 {path, title, name}\r\n    updateRouteTags(state, tag) {\r\n      let flag = false;\r\n      state.routeTags.forEach(item => {\r\n        if(item.name === tag.name){\r\n          flag = true;\r\n          return;\r\n        }\r\n      })\r\n      if(flag) // 存在了\r\n        return;\r\n      state.routeTags.push(tag);\r\n        if(state.routeTags.length > 7) // 限制标签\r\n          state.routeTags.splice(0, 1);\r\n    },\r\n    // 删除标签\r\n    deleteTag(state, index){\r\n      state.routeTags.splice(index, 1);\r\n    }\r\n  },\r\n  actions: {}\r\n}\r\nexport default menuTag\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/menuTag.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport systemMenu from './modules/systemMenu.js'\r\nimport user from './modules/user'\r\nimport menuTag from \"./modules/menuTag\";\r\n\r\nVue.use(Vuex)\r\n\r\n// 缓存数据的地方\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    systemMenu,\r\n    user,\r\n    menuTag,\r\n  },\r\n\r\n  state: {\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n  <div>\r\n    <!--达到要求弹出div-->\r\n    <el-card class=\"box-card\" v-if=\"messageList && messageList.length\">\r\n      <div style=\"font-size: 25px\">\r\n        <span>您有新的订单来了,请注意查看</span>\r\n      </div>\r\n      <div v-for=\"message in messageList\" :key=\"message.orderNo\" style=\"font-size: 15px;\">\r\n        订单号[{{message.orderNo}}] [{{message.address}}]\r\n        <el-button style=\"\" size=\"default\" type=\"text\" @click=\"confirmReceiveMessage(message.orderNo)\">收到</el-button>\r\n        <br>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<!--最新订单消息弹窗-->\r\n<script>\r\n  import {resentOrderMessage, confirmReceiveOrderMessage} from \"../../api/modules/app/messageApi.js\"\r\n\r\n  export default {\r\n    name: \"OrderMessage\",\r\n    data() {\r\n      return {\r\n        messageList: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getMessage();\r\n    },\r\n    methods: {\r\n      // 语音提醒来了新订单\r\n      voiceTips(address) {\r\n        let txt = '您有新的订单来了,' + address + ',请注意查看'\r\n        new Audio('http://tts.baidu.com/text2audio?cuid=baiduid&lan=zh&ctp=1&pdt=12&tex=' + txt).play();\r\n      },\r\n      getMessage() {\r\n        let that = this;\r\n        setInterval(() => {\r\n          that.getRecentMessage();\r\n        }, 15000);\r\n      },\r\n      getRecentMessage() {\r\n        resentOrderMessage().then(result => {\r\n          if (result.data.length > this.messageList.length)\r\n            this.voiceTips(result.data[result.data.length - 1].address)\r\n          this.messageList = result.data;\r\n        }).catch(result => {\r\n          console.log(result.data)\r\n        })\r\n      },\r\n      // 确认收到消息\r\n      confirmReceiveMessage(orderNo) {\r\n        let that = this;\r\n        confirmReceiveOrderMessage(orderNo).then(result => {\r\n          that.$notify.success(result.data);\r\n          that.getRecentMessage();\r\n        }).catch(result => {\r\n          console.log(result.data)\r\n        })\r\n      }\r\n\r\n      //\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n  .box-card {\r\n    position: fixed;\r\n    top: 70vh;\r\n    right: 1vw;\r\n    width: 600px;\r\n    height: 29vh;\r\n    z-index: 100;\r\n    background: #ff9966 !important;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/app/OrderMessage.vue","import request from '@/utils/axiosRequest.js'\r\n\r\n// 消息服务\r\n// 最新订单消息\r\nexport function resentOrderMessage(){\r\n  return request({\r\n    url: \"/message/resentOrderMessage\",\r\n    method: \"get\"\r\n  })\r\n}\r\n\r\n// 确认收到消息\r\nexport function confirmReceiveOrderMessage(orderNo) {\r\n  return request({\r\n    url: \"/message/confirmReceiveOrderMessage/\"+ orderNo,\r\n    method: \"delete\"\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/modules/app/messageApi.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.messageList && _vm.messageList.length)?_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticStyle:{\"font-size\":\"25px\"}},[_c('span',[_vm._v(\"您有新的订单来了,请注意查看\")])]),_vm._v(\" \"),_vm._l((_vm.messageList),function(message){return _c('div',{key:message.orderNo,staticStyle:{\"font-size\":\"15px\"}},[_vm._v(\"\\n      订单号[\"+_vm._s(message.orderNo)+\"] [\"+_vm._s(message.address)+\"]\\n      \"),_c('el-button',{attrs:{\"size\":\"default\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.confirmReceiveMessage(message.orderNo)}}},[_vm._v(\"收到\")]),_vm._v(\" \"),_c('br')],1)})],2):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-df8defe6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app/OrderMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-df8defe6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-df8defe6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app/OrderMessage.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"app\" :class=\"background ? background : ''\">\r\n        <OrderMessage style=\"position: fixed; z-index: 1000\"></OrderMessage>\r\n        <router-view/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import OrderMessage from \"./components/app/OrderMessage\"\r\n\r\n    export default {\r\n        name: 'App',\r\n        components: {OrderMessage},\r\n        data() {\r\n            return {\r\n                background: \"bg-sky-blue\"\r\n            }\r\n        },\r\n        created() {\r\n            // 加载上次选择的背景\r\n            let background = window.localStorage.getItem(\"background\");\r\n            if (background) {\r\n                console.log(\"上传选择的背景为: \" + background)\r\n                this.background = background;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    #app {\r\n        font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n        text-align: center;\r\n        color: #2c3e50;\r\n        margin: 0 auto;\r\n        height: 100vh;\r\n    }\r\n\r\n    .bg-green {\r\n        background-image: url('assets/background/green.jpeg')\r\n    }\r\n\r\n    .bg-sky-blue {\r\n        background-image: url('assets/background/sky-blue.jpeg')\r\n    }\r\n\r\n    .bg-light-blue {\r\n        background-image: url('assets/background/light-blue.jpeg')\r\n    }\r\n\r\n    .bg-orange {\r\n        background-image: url('assets/background/orange.jpeg')\r\n    }\r\n\r\n    .bg-white {\r\n        background-image: url('assets/background/white.png')\r\n    }\r\n\r\n    a {\r\n        text-decoration: none;\r\n        color: #000;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.background ? _vm.background : '',attrs:{\"id\":\"app\"}},[_c('OrderMessage',{staticStyle:{\"position\":\"fixed\",\"z-index\":\"1000\"}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b34e2658\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b34e2658\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b34e2658\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store/index.js'\r\nimport router from './router/index.js'\r\n// 引入element\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\n// 配置cookie\r\n\r\nVue.use(ElementUI)\r\n// 设置别名 组件里可以不用导入直接使用如:this.$notify.success(\"成功\")\r\nVue.prototype.$loading = ElementUI.Loading.service\r\nVue.prototype.$msgbox = ElementUI.MessageBox\r\nVue.prototype.$alert = ElementUI.MessageBox.alert // 确认框 只有确认\r\nVue.prototype.$confirm = ElementUI.MessageBox.confirm // 确认框 点击遮罩可以关闭\r\nVue.prototype.$notify = ElementUI.Notification\r\nVue.prototype.$message = ElementUI.Message\r\n\r\n\r\n// 开启debug模式\r\nVue.config.debug = process.env.NODE_ENV === 'development';\r\n\r\n\r\n// 路由器会创建一个 App 实例，并且挂载到选择符 #app 匹配的元素上。\r\nnew Vue({\r\n  router: router,  // 路由\r\n  store: store, // 缓存 vuex\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import request from '../utils/axiosRequest.js'\r\n\r\n// 获取验证码\r\nexport function getCode() {\r\n  return request({\r\n    url: '/auth/code',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n//登录\r\nexport function login(requestUser) {\r\n  return request({\r\n    url: '/auth/login',\r\n    method: 'post',\r\n    data: requestUser\r\n  })\r\n}\r\n\r\n// 通过token直接登录\r\nexport function loginByToken(token) {\r\n  return request({\r\n    url: '/auth/loginByToken?token=' + token,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n\r\n//修改密码\r\nexport function updatePassword(oldPassword, newPassword) {\r\n  return request({\r\n    url: '/auth/password',\r\n    method: 'put',\r\n    data: {\r\n      oldPassword: oldPassword,\r\n      newPassword: newPassword\r\n    }\r\n  })\r\n}\r\n\r\n// 获取当前登录的用户信息\r\nexport function getUserInfo() {\r\n  return request({\r\n    url: '/auth/userInfo',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 退出登录\r\nexport function logout() {\r\n  return request({\r\n    url: '/auth/logout',\r\n    method: 'delete'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/AuthController.js","import Vue from 'vue'\r\nimport store from '../store/index'\r\n// 引入并注册vue-router 路由\r\nimport VueRouter from \"vue-router\";\r\n\r\nVue.use(VueRouter);\r\n\r\n// 把重复导航的报错吞了 可有可无\r\n// const originalPush = VueRouter.prototype.push\r\n// VueRouter.prototype.push = function push(location) {\r\n//   return originalPush.call(this, location).catch(err => err)\r\n// }\r\n\r\n// 常量路由\r\nexport var constantRouterMap = [\r\n\r\n  {\r\n    path: '/',\r\n    redirect: \"/login\"\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: (resolve) => require(['../components/LoginIndex.vue'], resolve),\r\n    name: \"login\"\r\n  },\r\n\r\n  {\r\n    path: '/index',\r\n    // 父组件路由必须要有 子组件基于父组件 父组件就好比容器一样\r\n    component: () => import('../components/Layout.vue'),\r\n    redirect: \"/system/dashboard\",\r\n    name: \"systemIndex\",\r\n    title: \"首页\",\r\n    hidden: true,\r\n    children: [\r\n      // dashboard面板 后台首页\r\n      {\r\n        path: '/system/dashboard',\r\n        component: () => import('../components/system/dashboard/index.vue'),\r\n        name: \"dashboard\",\r\n        title: \"首页报表\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n\r\n// 创建一个路由器实例\r\nconst router = new VueRouter({\r\n  // 并且配置路由规则\r\n  // mode: 'hash', // history模式 没有/#/  默认为hash模式\r\n  routes: constantRouterMap\r\n})\r\n\r\n// 路由拦截器\r\nrouter.beforeEach((to, from, next) => {\r\n  if (!store.getters.userInfo && !store.getters.token) {\r\n    if (to.path.startsWith(\"/login\")) // 防止死循环\r\n      next()\r\n    else {\r\n      console.log(\"还没有登录\")\r\n      next('/login')\r\n    }\r\n  }\r\n  next()\r\n})\r\n\r\n\r\nvar getLastUrl = (str, yourStr) => str.slice(str.lastIndexOf(yourStr))//取到浏览器出现网址的最后\"/\"出现的后边的字符\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import axios from 'axios'\r\nimport store from '../store/index'\r\nimport {MessageBox, Notification, Loading} from 'element-ui'\r\n\r\nfunction loading() {\r\n    let loading = Loading.service({  // 加载遮罩\r\n        lock: true,\r\n        text: '加载中...',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.1)'\r\n    })\r\n    setTimeout(() => {\r\n        loading.close()\r\n    }, 200);\r\n}\r\n\r\n// 创建axios实例\r\nconst axiosInstance = axios.create({\r\n    baseURL: process.env.BASE_URL,\r\n    // timeout: 1200000 // 请求超时时间，毫秒（默认2分钟\r\n})\r\n\r\n// request拦截器\r\naxiosInstance.interceptors.request.use(requestInfo => {\r\n        loading();\r\n        requestInfo.headers['token'] = store.getters.token;\r\n        requestInfo.headers['Content-Type'] = 'application/json;charset=UTF-8';\r\n        return requestInfo\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n// response 拦截器\r\naxiosInstance.interceptors.response.use(response => {\r\n    console.log(\"[请求api] [\" + response.config.method + \"] \", response.config.url, \"[接口返回数据]\", response.data)\r\n    if (response.status < 200 || response.status >= 400) {\r\n        Notification.error(\"未知异常\");\r\n        return Promise.reject();\r\n    }\r\n\r\n    const res = response.data\r\n    if (res.code === 200)\r\n        return res;\r\n    else if (res.code === 10001) {\r\n        MessageBox.alert('未登录或登录已经过期，请重新登录', {\r\n            confirmButtonText: '去登录',\r\n            type: 'error'\r\n        }).then(() => {\r\n            store.dispatch('logout').then(() => {\r\n                location.reload()\r\n            })\r\n        });\r\n    } else if (res.code === 10002) {\r\n        Notification.error('权限不足 错误码[' + res.code + \"]\");\r\n    } else\r\n        Notification.error(res.message + ' [错误码' + res.code + ']');\r\n    return Promise.reject();\r\n}, () => {\r\n    Notification.error(\"服务器网络异常\")\r\n    return Promise.reject();\r\n})\r\n\r\nexport default axiosInstance\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/axiosRequest.js"],"sourceRoot":""}